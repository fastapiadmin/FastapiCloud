{"version":3,"file":"Add.vue_vue_type_script_setup_true_lang-ClW3j57A.js","sources":["../../src/views/Authorization/Admin/components/Add.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { createUser } from '@/api/user'\nimport type { UserForm } from '@/api/user/types'\n\nconst router = useRouter()\n\nconst form = reactive<UserForm>({\n  username: '',\n  password: '',\n  name: '',\n  status: true,\n  description: ''\n})\n\nconst loading = ref(false)\nconst visible = ref(true)\n\n// 验证表单\nconst validateForm = (): boolean => {\n  if (!form.username) {\n    ElMessage.warning('请输入用户名')\n    return false\n  }\n  if (!form.name) {\n    ElMessage.warning('请输入昵称')\n    return false\n  }\n  if (!form.password) {\n    ElMessage.warning('请输入密码')\n    return false\n  }\n  return true\n}\n\n// 处理表单提交\nconst handleSubmit = async () => {\n  if (!validateForm()) return\n  loading.value = true\n  try {\n    await createUser(form)\n    ElMessage.success('用户创建成功')\n    router.push('/users')\n  } catch (error) {\n    ElMessage.error('创建用户失败')\n    console.error('Create user error:', error)\n  } finally {\n    loading.value = false\n  }\n}\n\n// 取消操作\nconst handleCancel = () => {\n  router.push('/users')\n}\n</script>\n\n<template>\n  <el-dialog title=\"创建用户\" v-model:visible=\"visible\" width=\"600px\">\n    <el-form v-loading=\"loading\" :model=\"form\" label-width=\"100px\" class=\"user-form\">\n      <el-form-item label=\"用户名\">\n        <el-input v-model=\"form.username\" placeholder=\"请输入用户名\" />\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input v-model=\"form.name\" placeholder=\"请输入昵称\" />\n      </el-form-item>\n      <el-form-item label=\"密码\">\n        <el-input v-model=\"form.password\" type=\"password\" placeholder=\"请输入密码\" />\n      </el-form-item>\n      <el-form-item label=\"是否激活\">\n        <el-switch v-model=\"form.status\" />\n      </el-form-item>\n      <el-form-item label=\"备注\">\n        <el-input v-model=\"form.description\" type=\"textarea\" placeholder=\"请输入备注\" :rows=\"3\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button @click=\"handleCancel\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit\" :loading=\"loading\">确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<style scoped></style>\n"],"names":["router","useRouter","form","reactive","loading","ref","visible","validateForm","ElMessage","handleSubmit","__async","createUser","error","handleCancel"],"mappings":"+dAOA,MAAMA,EAASC,EAAU,EAEnBC,EAAOC,EAAmB,CAC9B,SAAU,GACV,SAAU,GACV,KAAM,GACN,OAAQ,GACR,YAAa,EAAA,CACd,EAEKC,EAAUC,EAAI,EAAK,EACnBC,EAAUD,EAAI,EAAI,EAGlBE,EAAe,IACdL,EAAK,SAILA,EAAK,KAILA,EAAK,SAIH,IAHLM,EAAU,QAAQ,OAAO,EAClB,KALPA,EAAU,QAAQ,OAAO,EAClB,KALPA,EAAU,QAAQ,QAAQ,EACnB,IAcLC,EAAe,IAAYC,EAAA,sBAC3B,GAACH,IACL,CAAAH,EAAQ,MAAQ,GACZ,GAAA,CACF,MAAMO,EAAWT,CAAI,EACrBM,EAAU,QAAQ,QAAQ,EAC1BR,EAAO,KAAK,QAAQ,QACbY,EAAO,CACdJ,EAAU,MAAM,QAAQ,EAChB,QAAA,MAAM,qBAAsBI,CAAK,CAAA,QACzC,CACAR,EAAQ,MAAQ,EAAA,EAEpB,GAGMS,EAAe,IAAM,CACzBb,EAAO,KAAK,QAAQ,CACtB"}