var w=(v,p,e)=>new Promise((s,d)=>{var _=t=>{try{i(e.next(t))}catch(l){d(l)}},c=t=>{try{i(e.throw(t))}catch(l){d(l)}},i=t=>t.done?s(t.value):Promise.resolve(t.value).then(_,c);i((e=e.apply(v,p)).next())});import{v as D,V as M,r as b,x as g,J as x,K as r,S as N,M as o,a3 as y,az as S,ad as u,ap as z}from"./vue-chunks-COp0tDkU.js";import"./index-CMs-epuZ.js";import{c as A}from"./index-B9iJObkR.js";import{b as m}from"./element-plus-B-YefleC.js";const T=D({__name:"Add",setup(v){const p=S(),e=M({username:"",password:"",name:"",status:!0,description:""}),s=b(!1),d=b(!0),_=()=>e.username?e.name?e.password?!0:(m.warning("请输入密码"),!1):(m.warning("请输入昵称"),!1):(m.warning("请输入用户名"),!1),c=()=>w(this,null,function*(){if(_()){s.value=!0;try{yield A(e),m.success("用户创建成功"),p.push("/users")}catch(t){m.error("创建用户失败"),console.error("Create user error:",t)}finally{s.value=!1}}}),i=()=>{p.push("/users")};return(t,l)=>{const f=u("el-input"),n=u("el-form-item"),C=u("el-switch"),V=u("el-button"),U=u("el-form"),k=u("el-dialog"),B=z("loading");return g(),x(k,{title:"创建用户",visible:d.value,"onUpdate:visible":l[5]||(l[5]=a=>d.value=a),width:"600px"},{default:r(()=>[N((g(),x(U,{model:e,"label-width":"100px",class:"user-form"},{default:r(()=>[o(n,{label:"用户名"},{default:r(()=>[o(f,{modelValue:e.username,"onUpdate:modelValue":l[0]||(l[0]=a=>e.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(n,{label:"昵称"},{default:r(()=>[o(f,{modelValue:e.name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.name=a),placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码"},{default:r(()=>[o(f,{modelValue:e.password,"onUpdate:modelValue":l[2]||(l[2]=a=>e.password=a),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(n,{label:"是否激活"},{default:r(()=>[o(C,{modelValue:e.status,"onUpdate:modelValue":l[3]||(l[3]=a=>e.status=a)},null,8,["modelValue"])]),_:1}),o(n,{label:"备注"},{default:r(()=>[o(f,{modelValue:e.description,"onUpdate:modelValue":l[4]||(l[4]=a=>e.description=a),type:"textarea",placeholder:"请输入备注",rows:3},null,8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(V,{onClick:i},{default:r(()=>l[6]||(l[6]=[y("取消")])),_:1}),o(V,{type:"primary",onClick:c,loading:s.value},{default:r(()=>l[7]||(l[7]=[y("确定")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])),[[B,s.value]])]),_:1},8,["visible"])}}});export{T as _};
//# sourceMappingURL=Add.vue_vue_type_script_setup_true_lang-ClW3j57A.js.map
