import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{A as t,G as n,H as r,I as i,J as a,K as o,M as s,N as c,P as l,R as u,U as d,V as f,c as p,d as m,i as h,j as g,k as _,o as v,r as y,z as b}from"./vue-HfZDSVjf.js";import"./axios-ChWArd3X.js";import{c as x,r as S}from"./index-CuDLuHmr.js";var C={class:`user-detail-container`},w={key:1},T=x(l({__name:`detail`,setup(e){let l=y(),x=h(),T=n(Number(l.params.id)||0),E=n(null),D=n(!1),O=async()=>{if(E.value?.id)try{await navigator.clipboard.writeText(E.value.id.toString()),v.success({title:`成功`,message:`用户ID ${E.value.id} 已复制到剪贴板`,duration:2e3})}catch(e){console.error(`复制失败:`,e),p.error(`复制失败，请手动复制`)}},k=async()=>{if(!T.value){p.error(`用户ID无效`);return}D.value=!0;try{E.value=(await S(T.value)).data}catch(e){p.error(`加载用户详情失败`),console.error(`Load user detail error:`,e)}finally{D.value=!1}},A=()=>{x.push(`/users`)};return f(()=>l.params.id,e=>{T.value=Number(e)||0,k()},{immediate:!0}),(e,n)=>{let l=u(`el-icon`),f=u(`el-button`),p=u(`el-descriptions-item`),h=u(`el-switch`),v=u(`el-empty`),y=u(`el-descriptions`),x=u(`el-page-header`),S=u(`el-card`),T=b(`loading`);return i(),g(`div`,C,[d((i(),_(S,null,{default:r(()=>[c(x,{title:`返回`,onBack:A,content:`用户详情`,class:`page-header`},{default:r(()=>[E.value?d((i(),_(y,{key:0,column:2,border:``,"label-width":120,class:`user-detail-descriptions`},{default:r(()=>[c(p,{label:`用户ID`},{default:r(()=>[s(a(E.value.id)+` `,1),c(f,{type:`primary`,link:``,onClick:O},{default:r(()=>[c(l,null,{default:r(()=>[c(o(m))]),_:1}),n[2]||=s(` 复制ID `,-1)]),_:1})]),_:1}),c(p,{label:`用户名`},{default:r(()=>[s(a(E.value.username),1)]),_:1}),c(p,{label:`姓名`},{default:r(()=>[s(a(E.value.name),1)]),_:1}),c(p,{label:`超级管理员`},{default:r(()=>[c(h,{modelValue:E.value.is_superuser,"onUpdate:modelValue":n[0]||=e=>E.value.is_superuser=e,disabled:``,"active-text":`是`,"inactive-text":`否`},null,8,[`modelValue`])]),_:1}),c(p,{label:`状态`},{default:r(()=>[c(h,{modelValue:E.value.status,"onUpdate:modelValue":n[1]||=e=>E.value.status=e,disabled:``,"active-text":`已激活`,"inactive-text":`未激活`},null,8,[`modelValue`])]),_:1}),c(p,{label:`备注`,span:2},{default:r(()=>[E.value.description?(i(),g(`span`,w,a(E.value.description),1)):(i(),_(v,{key:0,description:`无备注信息`,"image-size":40}))]),_:1}),c(p,{label:`创建时间`},{default:r(()=>[s(a(E.value.created_time),1)]),_:1}),c(p,{label:`更新时间`},{default:r(()=>[s(a(E.value.updated_time),1)]),_:1})]),_:1})),[[T,D.value]]):t(``,!0)]),_:1})]),_:1})),[[T,D.value]])])}}}),[[`__scopeId`,`data-v-98c31aad`]]);export{T as default};