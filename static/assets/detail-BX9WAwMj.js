import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{A as t,B as n,F as r,H as i,K as a,L as o,M as s,N as c,P as l,U as u,W as d,Y as f,a as p,f as m,i as h,j as g,l as _,q as v,s as y,z as b}from"./vue-Cb9WPcpC.js";import"./axios-ChWArd3X.js";import{c as x,r as S}from"./index-DhRDvLz_.js";var C={class:`user-detail-container`},w={key:1},T=x(r({__name:`detail`,setup(e){let r=h(),x=p(),T=a(Number(r.params.id)||0),E=a(null),D=a(!1),O=async()=>{if(E.value?.id)try{await navigator.clipboard.writeText(E.value.id.toString()),y.success({title:`成功`,message:`用户ID ${E.value.id} 已复制到剪贴板`,duration:2e3})}catch(e){console.error(`复制失败:`,e),_.error(`复制失败，请手动复制`)}},k=async()=>{if(!T.value){_.error(`用户ID无效`);return}D.value=!0;try{E.value=(await S(T.value)).data}catch(e){_.error(`加载用户详情失败`),console.error(`Load user detail error:`,e)}finally{D.value=!1}},A=()=>{x.push(`/users`)};return i(()=>r.params.id,e=>{T.value=Number(e)||0,k()},{immediate:!0}),(e,r)=>{let i=b(`el-icon`),a=b(`el-button`),p=b(`el-descriptions-item`),h=b(`el-switch`),_=b(`el-empty`),y=b(`el-descriptions`),x=b(`el-page-header`),S=b(`el-card`),T=n(`loading`);return o(),s(`div`,C,[d((o(),t(S,null,{default:u(()=>[l(x,{title:`返回`,onBack:A,content:`用户详情`,class:`page-header`},{default:u(()=>[E.value?d((o(),t(y,{key:0,column:2,border:``,"label-width":120,class:`user-detail-descriptions`},{default:u(()=>[l(p,{label:`用户ID`},{default:u(()=>[c(f(E.value.id)+` `,1),l(a,{type:`primary`,link:``,onClick:O},{default:u(()=>[l(i,null,{default:u(()=>[l(v(m))]),_:1}),r[2]||=c(` 复制ID `,-1)]),_:1})]),_:1}),l(p,{label:`用户名`},{default:u(()=>[c(f(E.value.username),1)]),_:1}),l(p,{label:`姓名`},{default:u(()=>[c(f(E.value.name),1)]),_:1}),l(p,{label:`超级管理员`},{default:u(()=>[l(h,{modelValue:E.value.is_superuser,"onUpdate:modelValue":r[0]||=e=>E.value.is_superuser=e,disabled:``,"active-text":`是`,"inactive-text":`否`},null,8,[`modelValue`])]),_:1}),l(p,{label:`状态`},{default:u(()=>[l(h,{modelValue:E.value.status,"onUpdate:modelValue":r[1]||=e=>E.value.status=e,disabled:``,"active-text":`已激活`,"inactive-text":`未激活`},null,8,[`modelValue`])]),_:1}),l(p,{label:`备注`,span:2},{default:u(()=>[E.value.description?(o(),s(`span`,w,f(E.value.description),1)):(o(),t(_,{key:0,description:`无备注信息`,"image-size":40}))]),_:1}),l(p,{label:`创建时间`},{default:u(()=>[c(f(E.value.created_time),1)]),_:1}),l(p,{label:`更新时间`},{default:u(()=>[c(f(E.value.updated_time),1)]),_:1})]),_:1})),[[T,D.value]]):g(``,!0)]),_:1})]),_:1})),[[T,D.value]])])}}}),[[`__scopeId`,`data-v-98c31aad`]]);export{T as default};